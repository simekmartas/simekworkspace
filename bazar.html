<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bazar - MOBIL MAJAK</title>
    <link rel="stylesheet" href="styles.css?v=1.0.8">
</head>
<body class="protected-page sidebar-layout">

    <header>
        <!-- Logo pouze na mobilu, jinak skryto -->
        <a href="index.html" class="logo">MOBIL MAJ√ÅK</a>
        <div class="header-controls">
            <button class="mobile-toggle" onclick="toggleSidebar()">‚ò∞</button>
            <!-- Theme toggle bude p≈ôid√°n navigation.js -->
        </div>
        <!-- Skryt√° p≈Øvodn√≠ nav -->
        <nav style="display: none;">
            <ul></ul>
        </nav>
    </header>

    <!-- Sidebar Navigation -->
    <nav class="sidebar-nav" id="sidebarNav">
        <div class="sidebar-logo">MOBIL MAJ√ÅK</div>
        <ul id="sidebarMenu">
            <!-- Menu bude naƒçteno JavaScriptem -->
        </ul>
    </nav>

    <main>
        <section class="hero">
            <div class="container">
                <h1>Bazar</h1>
                <p>Statistiky bazarov√Ωch prodej≈Ø</p>
            </div>
        </section>

        <section>
            <div class="container">
                <!-- Tlaƒç√≠tko pro p≈ôid√°n√≠ nov√©ho bazaru -->
                <div style="text-align: center; margin: 2rem 0;">
                    <button id="newBazarBtn" class="btn btn-primary" style="margin-bottom: 2rem;">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="10"></circle>
                            <line x1="12" y1="8" x2="12" y2="16"></line>
                            <line x1="8" y1="12" x2="16" y2="12"></line>
                        </svg>
                        Nov√Ω Bazar
                    </button>
                </div>

                <!-- Formul√°≈ô pro nov√Ω bazar (skryt√Ω) -->
                <div id="newBazarForm" class="data-container" style="display: none; max-width: 800px; margin: 2rem auto;">
                    <div class="data-header">
                        <div class="data-title">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                                <path d="M9 9h6v6H9z"></path>
                            </svg>
                            Nov√Ω z√°znam do bazaru
                        </div>
                        <button id="closeFormBtn" style="background: none; border: none; color: var(--text-secondary); cursor: pointer;">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <line x1="18" y1="6" x2="6" y2="18"></line>
                                <line x1="6" y1="6" x2="18" y2="18"></line>
                            </svg>
                        </button>
                    </div>
                    
                    <form id="bazarForm" style="padding: 2rem;">
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem; margin-bottom: 2rem;">
                            <!-- Z√°kladn√≠ informace -->
                            <div>
                                <label for="vykupka" style="display: block; font-weight: 500; color: var(--text-primary); margin-bottom: 0.5rem;">
                                    V√Ωkupka *
                                </label>
                                <input type="text" id="vykupka" name="vykupka" required style="width: 100%;">
                            </div>
                            
                            <div>
                                <label for="typTelefonu" style="display: block; font-weight: 500; color: var(--text-primary); margin-bottom: 0.5rem;">
                                    Typ telefonu *
                                </label>
                                <input type="text" id="typTelefonu" name="typTelefonu" required style="width: 100%;">
                            </div>
                            
                            <div>
                                <label for="imei" style="display: block; font-weight: 500; color: var(--text-primary); margin-bottom: 0.5rem;">
                                    IMEI *
                                </label>
                                <input type="text" id="imei" name="imei" required style="width: 100%;">
                            </div>
                            
                            <div>
                                <label for="jakSeONasDozvedelKlient" style="display: block; font-weight: 500; color: var(--text-primary); margin-bottom: 0.5rem;">
                                    Jak se o n√°s klient dozvƒõdƒõl?
                                </label>
                                <select id="jakSeONasDozvedelKlient" name="jakSeONasDozvedelKlient" style="width: 100%;">
                                    <option value="">Vyberte...</option>
                                    <option value="internet">Internet</option>
                                    <option value="facebook">Facebook</option>
                                    <option value="google">Google</option>
                                    <option value="doporuceni">Doporuƒçen√≠</option>
                                    <option value="reklama">Reklama</option>
                                    <option value="prochazka">Proch√°zka kolem</option>
                                    <option value="jine">Jin√©</option>
                                </select>
                            </div>
                            
                            <div>
                                <label for="cena" style="display: block; font-weight: 500; color: var(--text-primary); margin-bottom: 0.5rem;">
                                    Cena (Kƒç) *
                                </label>
                                <input type="number" id="cena" name="cena" required style="width: 100%;" min="0" step="1">
                            </div>
                            
                            <!-- P≈ô√≠slu≈°enstv√≠ -->
                            <div>
                                <label for="nabijjecka" style="display: block; font-weight: 500; color: var(--text-primary); margin-bottom: 0.5rem;">
                                    Nab√≠jeƒçka
                                </label>
                                <select id="nabijjecka" name="nabijjecka" style="width: 100%;">
                                    <option value="ne">Ne</option>
                                    <option value="ano">Ano</option>
                                </select>
                            </div>
                            
                            <div>
                                <label for="krabicka" style="display: block; font-weight: 500; color: var(--text-primary); margin-bottom: 0.5rem;">
                                    Krabiƒçka
                                </label>
                                <select id="krabicka" name="krabicka" style="width: 100%;">
                                    <option value="ne">Ne</option>
                                    <option value="ano">Ano</option>
                                </select>
                            </div>
                            
                            <div>
                                <label for="zarucniList" style="display: block; font-weight: 500; color: var(--text-primary); margin-bottom: 0.5rem;">
                                    Z√°ruƒçn√≠ list
                                </label>
                                <select id="zarucniList" name="zarucniList" style="width: 100%;">
                                    <option value="ne">Ne</option>
                                    <option value="ano">Ano</option>
                                </select>
                            </div>
                            
                            <div>
                                <label for="zarukaDo" style="display: block; font-weight: 500; color: var(--text-primary); margin-bottom: 0.5rem;">
                                    Z√°ruka do
                                    <small style="color: var(--text-secondary); font-weight: normal;">(DD.MM.YYYY nebo rolov√°tka)</small>
                                </label>
                                <div class="date-input-container">
                                    <div style="position: relative; width: 100%;">
                                        <input type="text" id="zarukaDo" name="zarukaDo" 
                                               style="width: 100%; padding-right: 45px;" 
                                               placeholder="nap≈ô. 15.12.2025" 
                                               pattern="^([0-2][0-9]|3[0-1])\.(0[1-9]|1[0-2])\.([0-9]{4})$"
                                               title="Zadejte datum ve form√°tu DD.MM.YYYY">
                                        <button type="button" class="date-toggle-btn" onclick="toggleDateInput('zarukaDo')" title="P≈ôepnout na rolov√°tka">
                                            üìÖ
                                        </button>
                                    </div>
                                    <div class="date-selects" id="zarukaDo_selects" style="display: none;">
                                        <select class="date-select day-select" data-field="zarukaDo">
                                            <option value="">Den</option>
                                        </select>
                                        <select class="date-select month-select" data-field="zarukaDo">
                                            <option value="">Mƒõs√≠c</option>
                                            <option value="01">Leden</option>
                                            <option value="02">√önor</option>
                                            <option value="03">B≈ôezen</option>
                                            <option value="04">Duben</option>
                                            <option value="05">Kvƒõten</option>
                                            <option value="06">ƒåerven</option>
                                            <option value="07">ƒåervenec</option>
                                            <option value="08">Srpen</option>
                                            <option value="09">Z√°≈ô√≠</option>
                                            <option value="10">≈ò√≠jen</option>
                                            <option value="11">Listopad</option>
                                            <option value="12">Prosinec</option>
                                        </select>
                                        <select class="date-select year-select" data-field="zarukaDo">
                                            <option value="">Rok</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            
                            <div>
                                <label for="pouziteDily" style="display: block; font-weight: 500; color: var(--text-primary); margin-bottom: 0.5rem;">
                                    Pou≈æit√© d√≠ly (Kƒç)
                                </label>
                                <input type="number" id="pouziteDily" name="pouziteDily" style="width: 100%;" min="0" step="1" value="0">
                            </div>
                            
                            <div>
                                <label for="vykoupil" style="display: block; font-weight: 500; color: var(--text-primary); margin-bottom: 0.5rem;">
                                    Vykoupil (p≈ô√≠jmen√≠) *
                                </label>
                                <input type="text" id="vykoupil" name="vykoupil" required style="width: 100%;">
                            </div>
                        </div>
                        
                        <!-- Informace o klientovi -->
                        <h3 style="color: var(--text-primary); margin: 2rem 0 1rem 0; font-size: 1.25rem;">Informace o klientovi</h3>
                        
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem; margin-bottom: 2rem;">
                            <div>
                                <label for="jmenoKlienta" style="display: block; font-weight: 500; color: var(--text-primary); margin-bottom: 0.5rem;">
                                    Jm√©no klienta *
                                </label>
                                <input type="text" id="jmenoKlienta" name="jmenoKlienta" required style="width: 100%;">
                            </div>
                            
                            <div>
                                <label for="prijmeniKlienta" style="display: block; font-weight: 500; color: var(--text-primary); margin-bottom: 0.5rem;">
                                    P≈ô√≠jmen√≠ klienta *
                                </label>
                                <input type="text" id="prijmeniKlienta" name="prijmeniKlienta" required style="width: 100%;">
                            </div>
                            
                            <div style="grid-column: 1 / -1;">
                                <label for="adresaKlienta" style="display: block; font-weight: 500; color: var(--text-primary); margin-bottom: 0.5rem;">
                                    Adresa klienta *
                                </label>
                                <input type="text" id="adresaKlienta" name="adresaKlienta" required style="width: 100%;">
                            </div>
                            
                            <div>
                                <label for="rodneCislo" style="display: block; font-weight: 500; color: var(--text-primary); margin-bottom: 0.5rem;">
                                    Rodn√© ƒç√≠slo *
                                </label>
                                <input type="text" id="rodneCislo" name="rodneCislo" required style="width: 100%;" placeholder="000000/0000">
                            </div>
                            
                            <div>
                                <label for="rodinnyStav" style="display: block; font-weight: 500; color: var(--text-primary); margin-bottom: 0.5rem;">
                                    Rodinn√Ω stav
                                </label>
                                <select id="rodinnyStav" name="rodinnyStav" style="width: 100%;">
                                    <option value="">Vyberte...</option>
                                    <option value="svobodn√Ω/√°">Svobodn√Ω/√°</option>
                                    <option value="≈æenat√Ω/vdan√°">≈Ωenat√Ω/vdan√°</option>
                                    <option value="rozveden√Ω/√°">Rozveden√Ω/√°</option>
                                    <option value="vdovec/vdova">Vdovec/vdova</option>
                                </select>
                            </div>
                            
                            <div>
                                <label for="mistoVydaniDokladu" style="display: block; font-weight: 500; color: var(--text-primary); margin-bottom: 0.5rem;">
                                    M√≠sto vyd√°n√≠ dokladu *
                                </label>
                                <input type="text" id="mistoVydaniDokladu" name="mistoVydaniDokladu" required style="width: 100%;">
                            </div>
                            
                            <div>
                                <label for="datumVydaniDokladu" style="display: block; font-weight: 500; color: var(--text-primary); margin-bottom: 0.5rem;">
                                    Datum vyd√°n√≠ OP *
                                    <small style="color: var(--text-secondary); font-weight: normal;">(DD.MM.YYYY nebo rolov√°tka)</small>
                                </label>
                                <div class="date-input-container">
                                    <div style="position: relative; width: 100%;">
                                        <input type="text" id="datumVydaniDokladu" name="datumVydaniDokladu" required 
                                               style="width: 100%; padding-right: 45px;" 
                                               placeholder="nap≈ô. 10.01.2020" 
                                               pattern="^([0-2][0-9]|3[0-1])\.(0[1-9]|1[0-2])\.([0-9]{4})$"
                                               title="Zadejte datum ve form√°tu DD.MM.YYYY">
                                        <button type="button" class="date-toggle-btn" onclick="toggleDateInput('datumVydaniDokladu')" title="P≈ôepnout na rolov√°tka">
                                            üìÖ
                                        </button>
                                    </div>
                                    <div class="date-selects" id="datumVydaniDokladu_selects" style="display: none;">
                                        <select class="date-select day-select" data-field="datumVydaniDokladu">
                                            <option value="">Den</option>
                                        </select>
                                        <select class="date-select month-select" data-field="datumVydaniDokladu">
                                            <option value="">Mƒõs√≠c</option>
                                            <option value="01">Leden</option>
                                            <option value="02">√önor</option>
                                            <option value="03">B≈ôezen</option>
                                            <option value="04">Duben</option>
                                            <option value="05">Kvƒõten</option>
                                            <option value="06">ƒåerven</option>
                                            <option value="07">ƒåervenec</option>
                                            <option value="08">Srpen</option>
                                            <option value="09">Z√°≈ô√≠</option>
                                            <option value="10">≈ò√≠jen</option>
                                            <option value="11">Listopad</option>
                                            <option value="12">Prosinec</option>
                                        </select>
                                        <select class="date-select year-select" data-field="datumVydaniDokladu">
                                            <option value="">Rok</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            
                            <div>
                                <label for="platnostDo" style="display: block; font-weight: 500; color: var(--text-primary); margin-bottom: 0.5rem;">
                                    Platnost OP *
                                    <small style="color: var(--text-secondary); font-weight: normal;">(DD.MM.YYYY nebo rolov√°tka)</small>
                                </label>
                                <div class="date-input-container">
                                    <div style="position: relative; width: 100%;">
                                        <input type="text" id="platnostDo" name="platnostDo" required 
                                               style="width: 100%; padding-right: 45px;" 
                                               placeholder="nap≈ô. 10.01.2030" 
                                               pattern="^([0-2][0-9]|3[0-1])\.(0[1-9]|1[0-2])\.([0-9]{4})$"
                                               title="Zadejte datum ve form√°tu DD.MM.YYYY">
                                        <button type="button" class="date-toggle-btn" onclick="toggleDateInput('platnostDo')" title="P≈ôepnout na rolov√°tka">
                                            üìÖ
                                        </button>
                                    </div>
                                    <div class="date-selects" id="platnostDo_selects" style="display: none;">
                                        <select class="date-select day-select" data-field="platnostDo">
                                            <option value="">Den</option>
                                        </select>
                                        <select class="date-select month-select" data-field="platnostDo">
                                            <option value="">Mƒõs√≠c</option>
                                            <option value="01">Leden</option>
                                            <option value="02">√önor</option>
                                            <option value="03">B≈ôezen</option>
                                            <option value="04">Duben</option>
                                            <option value="05">Kvƒõten</option>
                                            <option value="06">ƒåerven</option>
                                            <option value="07">ƒåervenec</option>
                                            <option value="08">Srpen</option>
                                            <option value="09">Z√°≈ô√≠</option>
                                            <option value="10">≈ò√≠jen</option>
                                            <option value="11">Listopad</option>
                                            <option value="12">Prosinec</option>
                                        </select>
                                        <select class="date-select year-select" data-field="platnostDo">
                                            <option value="">Rok</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            
                            <div>
                                <label for="datumNarozeni" style="display: block; font-weight: 500; color: var(--text-primary); margin-bottom: 0.5rem;">
                                    Datum narozen√≠ *
                                    <small style="color: var(--text-secondary); font-weight: normal;">(DD.MM.YYYY nebo rolov√°tka)</small>
                                </label>
                                <div class="date-input-container">
                                    <div style="position: relative; width: 100%;">
                                        <input type="text" id="datumNarozeni" name="datumNarozeni" required 
                                               style="width: 100%; padding-right: 45px;" 
                                               placeholder="nap≈ô. 15.03.1990" 
                                               pattern="^([0-2][0-9]|3[0-1])\.(0[1-9]|1[0-2])\.([0-9]{4})$"
                                               title="Zadejte datum ve form√°tu DD.MM.YYYY">
                                        <button type="button" class="date-toggle-btn" onclick="toggleDateInput('datumNarozeni')" title="P≈ôepnout na rolov√°tka">
                                            üìÖ
                                        </button>
                                    </div>
                                    <div class="date-selects" id="datumNarozeni_selects" style="display: none;">
                                        <select class="date-select day-select" data-field="datumNarozeni">
                                            <option value="">Den</option>
                                        </select>
                                        <select class="date-select month-select" data-field="datumNarozeni">
                                            <option value="">Mƒõs√≠c</option>
                                            <option value="01">Leden</option>
                                            <option value="02">√önor</option>
                                            <option value="03">B≈ôezen</option>
                                            <option value="04">Duben</option>
                                            <option value="05">Kvƒõten</option>
                                            <option value="06">ƒåerven</option>
                                            <option value="07">ƒåervenec</option>
                                            <option value="08">Srpen</option>
                                            <option value="09">Z√°≈ô√≠</option>
                                            <option value="10">≈ò√≠jen</option>
                                            <option value="11">Listopad</option>
                                            <option value="12">Prosinec</option>
                                        </select>
                                        <select class="date-select year-select" data-field="datumNarozeni">
                                            <option value="">Rok</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            
                            <div>
                                <label for="pohlavi" style="display: block; font-weight: 500; color: var(--text-primary); margin-bottom: 0.5rem;">
                                    Pohlav√≠ *
                                </label>
                                <select id="pohlavi" name="pohlavi" required style="width: 100%;">
                                    <option value="">Vyberte...</option>
                                    <option value="mu≈æ">Mu≈æ</option>
                                    <option value="≈æena">≈Ωena</option>
                                </select>
                            </div>
                            
                            <div>
                                <label for="cisloOP" style="display: block; font-weight: 500; color: var(--text-primary); margin-bottom: 0.5rem;">
                                    ƒå√≠slo OP *
                                </label>
                                <input type="text" id="cisloOP" name="cisloOP" required style="width: 100%;" placeholder="123456789">
                            </div>
                            
                            <div>
                                <label for="mistoNarozeni" style="display: block; font-weight: 500; color: var(--text-primary); margin-bottom: 0.5rem;">
                                    M√≠sto narozen√≠ *
                                </label>
                                <input type="text" id="mistoNarozeni" name="mistoNarozeni" required style="width: 100%;">
                            </div>
                            
                            <div>
                                <label for="telefonniCislo" style="display: block; font-weight: 500; color: var(--text-primary); margin-bottom: 0.5rem;">
                                    Telefonn√≠ ƒç√≠slo
                                </label>
                                <input type="tel" id="telefonniCislo" name="telefonniCislo" style="width: 100%;" placeholder="+420 123 456 789">
                            </div>
                            
                            <div style="grid-column: 1 / -1;">
                                <label for="poznamky" style="display: block; font-weight: 500; color: var(--text-primary); margin-bottom: 0.5rem;">
                                    Pozn√°mky
                                </label>
                                <textarea id="poznamky" name="poznamky" style="width: 100%; min-height: 80px; resize: vertical;" placeholder="Dal≈°√≠ pozn√°mky k v√Ωkupu..."></textarea>
                            </div>
                        </div>
                        
                        <!-- Tlaƒç√≠tka -->
                        <div style="display: flex; gap: 1rem; justify-content: center; margin-top: 2rem; flex-wrap: wrap;">
                            <button type="button" id="cancelFormBtn" style="background: var(--text-secondary); color: white; border: none; padding: 0.75rem 1.5rem; border-radius: 0.5rem; cursor: pointer;">
                                Zru≈°it
                            </button>
                            <button type="button" id="testFormBtn" style="background: #6366f1; color: white; border: none; padding: 0.75rem 1.5rem; border-radius: 0.5rem; cursor: pointer;" title="Vypln√≠ testovac√≠ data a ode≈°le formul√°≈ô">
                                üß™ Test formul√°≈ôe
                            </button>
                            <button type="submit" class="btn btn-primary">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <polyline points="9,11 12,14 22,4"></polyline>
                                    <path d="M21,12v7a2,2 0,0 1,-2,2H5a2,2 0,0 1,-2,-2V5a2,2 0,0 1,2,-2h11"></path>
                                </svg>
                                Dokonƒçit
                            </button>
                        </div>
                    </form>
                    
                    <div id="formMessage" class="message" style="display: none; margin: 1rem 2rem;"></div>
                </div>

                <div id="bazarDataContainer">
                    <!-- Bazarov√° data budou naƒçtena zde -->
                </div>
            </div>
        </section>
    </main>

    <script src="access-control.js"></script>
    <script src="sales-assistant.js"></script>
    <script src="navigation.js?v=1.0.8"></script>
    <script src="theme-toggle.js"></script>
    <script src="bazar-data-loader.js"></script>
    <script src="bazar-storage.js"></script>
</body>
</html> 