<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Celkem - Mobil Maják</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <meta name="theme-color" content="#ff1493">
</head>
<body class="protected-page">
    <header>
        <div class="header-content">
            <a href="index.html" class="logo">Mobil Maják</a>
            <nav>
                <ul>
                    <!-- Statický fallback menu - zobrazí se i bez JS -->
                    <li><a href="index.html">🏠 Domů</a></li>
                    <li><a href="sales-analytics.html">📊 Prodeje</a></li>
                    <li><a href="celkem.html">📈 Celkem</a></li>
                    <li><a href="servis.html">🔧 Servis</a></li>
                    <li><a href="bazar.html">🛒 Bazar</a></li>
                    <li><a href="leaderboards.html">🏆 Žebříčky</a></li>
                    <li id="static-plus-button">
                        <a href="#" onclick="if(typeof openSalesAssistant==='function'){openSalesAssistant(event)}else{alert('Obnovte stránku (F5)')}" 
                           style="background: linear-gradient(135deg, #ff6b6b, #ee5a24) !important; 
                                  color: white !important; 
                                  padding: 0.5rem 1rem !important; 
                                  border-radius: 20px !important; 
                                  text-decoration: none !important; 
                                  font-weight: bold !important; 
                                  box-shadow: 0 2px 10px rgba(255, 107, 107, 0.3) !important; 
                                  transition: all 0.3s ease !important;" 
                           title="Prodejní asistent">
                            ➕ Nový prodej
                        </a>
                    </li>
                    <li><span style="color: #666; font-size: 0.9em;">👤 Prodejce</span></li>
                    <li><a href="login.html" style="color: #ff6b6b;">🚪 Odhlásit</a></li>
                </ul>
            </nav>
            <!-- Theme toggle a hamburger menu budou přidány navigation.js -->
        </div>
    </header>

    <main>
        <section class="hero">
            <div class="container">
                <h1>Celkem</h1>
                <p>Souhrnné statistiky celé firmy</p>
            </div>
        </section>

        <section>
            <div class="container">
                <div id="celkemDataContainer">
                    <!-- Celková data budou načtena zde -->
                </div>
            </div>
        </section>
    </main>

    <footer>
        <div class="container">
            <p>&copy; 2025 Mobil Maják. Všechna práva vyhrazena.</p>
        </div>
    </footer>

    <div class="version-info">v2.3.0</div>

    <script src="access-control.js"></script>
    <script src="theme-toggle.js"></script>
    <script src="sales-assistant.js"></script>
    <script src="navigation.js"></script>
    <script src="celkem-data-loader.js"></script>
    <!-- AI chatbot skrytý -->
    <!-- <script src="ai-chatbot.js"></script> -->
    <script>
        // Inicializace celkového data loaderu pouze po úspěšné autentifikaci
        document.addEventListener('DOMContentLoaded', function() {
            console.log('Celkem.html inicializace dokončena');
            
            // Kontrola přístupů se provádí automaticky v access-control.js
            // Pokud má uživatel přístup, inicializujeme data loader
            setTimeout(() => {
                if (document.body.classList.contains('authenticated')) {
                    // Inicializace celkového data loaderu
                    window.celkemLoader = new CelkemDataLoader('celkemDataContainer');
                    window.celkemLoader.loadCelkemData();
                    console.log('Celkem data loader inicializován');
                }
                
                // Wait for theme manager to be ready
                if (window.themeManager) {
                    window.themeManager.createThemeToggle();
                    console.log('Theme toggle buttons aktualizovány na celkem.html');
                }
            }, 200);
        });
    </script>
</body>
</html> 